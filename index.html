<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#0f0f1a">
<title>Soru Bankasƒ±</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0f0f1a;
  --card:#181828;
  --card2:#1e1e30;
  --border:#2a2a42;
  --accent:#6c63ff;
  --accent2:#8b85ff;
  --accent3:#a29bfe;
  --red:#ff4757;
  --green:#2ed573;
  --text:#f0eeff;
  --muted:#8886aa;
  --light:#d4d2f0;
  --r:16px;
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html,body{height:100%;overflow:hidden}
body{font-family:'Nunito',sans-serif;background:var(--bg);color:var(--text)}
.screen{display:none;flex-direction:column;height:100vh;height:100dvh;overflow:hidden}
.screen.on{display:flex}
.body{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}
.pad{padding:16px}

/* ‚îÄ‚îÄ TOPBAR ‚îÄ‚îÄ */
.bar{background:var(--card);border-bottom:1px solid var(--border);padding:14px 16px;display:flex;align-items:center;gap:12px;flex-shrink:0}
.bar-back{width:36px;height:36px;border:1.5px solid var(--border);background:var(--card2);border-radius:10px;color:var(--accent3);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.bar h1{font-size:17px;font-weight:800;color:var(--text)}
.bar small{font-size:11px;color:var(--muted);font-weight:600}
.bar-right{margin-left:auto;font-size:11px;color:var(--muted);font-weight:700;background:var(--card2);padding:5px 10px;border-radius:8px;border:1px solid var(--border)}

/* ‚îÄ‚îÄ WELCOME SCREEN ‚îÄ‚îÄ */
#s0{background:var(--bg);overflow-y:auto;-webkit-overflow-scrolling:touch;align-items:center;padding:0 0 48px}
.hero{width:100%;background:linear-gradient(160deg,#1a1240 0%,#0f0f1a 60%);padding:52px 24px 44px;text-align:center;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 50% 0%,rgba(108,99,255,.28) 0%,transparent 65%)}
.hero::after{content:'';position:absolute;top:20px;right:20px;width:90px;height:90px;opacity:.12;background-image:radial-gradient(circle,var(--accent) 1.5px,transparent 1.5px);background-size:14px 14px}
.hero-orb{width:80px;height:80px;background:linear-gradient(135deg,#6c63ff,#c084fc);border-radius:22px;display:inline-flex;align-items:center;justify-content:center;font-size:38px;margin-bottom:20px;box-shadow:0 0 50px rgba(108,99,255,.5),0 0 100px rgba(108,99,255,.2);position:relative;z-index:1}
.hero-title{font-size:30px;font-weight:900;color:var(--text);letter-spacing:-1px;position:relative;z-index:1;margin-bottom:8px}
.hero-title span{background:linear-gradient(135deg,var(--accent2),#c084fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-sub{font-size:14px;color:var(--muted);line-height:1.7;position:relative;z-index:1;font-weight:600}

/* ‚îÄ‚îÄ FORM CARD ‚îÄ‚îÄ */
.form-card{background:var(--card);border:1.5px solid var(--border);border-radius:24px;padding:24px;width:calc(100% - 32px);max-width:420px;margin:-24px 16px 0;position:relative;z-index:2;box-shadow:0 24px 60px rgba(0,0,0,.5)}
.form-title{font-size:14px;font-weight:800;color:var(--text);margin-bottom:20px;display:flex;align-items:center;gap:10px}
.form-title-ico{width:30px;height:30px;background:linear-gradient(135deg,var(--accent),#c084fc);border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:16px}

.fg{margin-bottom:14px}
.fl{display:block;font-size:10px;font-weight:800;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.fi{width:100%;padding:12px 14px;background:var(--card2);border:1.5px solid var(--border);border-radius:12px;font-size:15px;color:var(--text);font-family:'Nunito',sans-serif;outline:none;transition:border .2s,box-shadow .2s}
.fi:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(108,99,255,.18)}
.fi::placeholder{color:var(--muted)}

.upload{border:2px dashed var(--border);border-radius:14px;padding:22px;text-align:center;cursor:pointer;transition:all .2s;background:var(--card2)}
.upload:hover,.upload.drag{border-color:var(--accent);background:rgba(108,99,255,.07)}
.upload.ok{border-color:var(--green);background:rgba(46,213,115,.05);border-style:solid}
.upload-ico{font-size:28px;margin-bottom:8px}
.upload-txt{font-size:14px;font-weight:700;color:var(--text)}
.upload-hint{font-size:11px;color:var(--muted);margin-top:4px;font-weight:600}

.prog{width:100%;height:4px;background:var(--border);border-radius:2px;margin:12px 0;overflow:hidden;display:none}
.prog-fill{height:100%;background:linear-gradient(90deg,var(--accent),#c084fc);border-radius:2px;transition:width .3s}

.btn{width:100%;padding:16px;border:none;border-radius:13px;font-size:16px;font-weight:800;cursor:pointer;font-family:'Nunito',sans-serif;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .15s;min-height:54px}
.btn-p{background:linear-gradient(135deg,var(--accent) 0%,#a855f7 100%);color:#fff;box-shadow:0 4px 24px rgba(108,99,255,.4)}
.btn-p:hover{transform:translateY(-1px);box-shadow:0 6px 28px rgba(108,99,255,.5)}
.btn-p:active{transform:scale(.97)}
.btn-p:disabled{opacity:.3;transform:none;cursor:not-allowed;box-shadow:none}
.btn-g{background:linear-gradient(135deg,#00b09b,#2ed573);color:#fff;box-shadow:0 4px 20px rgba(46,213,115,.3)}
.btn-r{background:linear-gradient(135deg,var(--red),#ff6b81);color:#fff;box-shadow:0 4px 20px rgba(255,71,87,.3)}
.btn-o{background:var(--card2);color:var(--text);border:1.5px solid var(--border)}
.btn-sm{width:auto;padding:8px 16px;font-size:13px;border-radius:10px}
.btn-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px}

/* ‚îÄ‚îÄ CLASS GRID ‚îÄ‚îÄ */
.grade-sec{margin-bottom:22px}
.grade-lbl{font-size:10px;font-weight:800;color:var(--accent3);text-transform:uppercase;letter-spacing:1.2px;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.grade-lbl::after{content:'';flex:1;height:1px;background:var(--border)}
.cls-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.cls-card{background:var(--card);border:1.5px solid var(--border);border-radius:18px;padding:18px 14px;cursor:pointer;transition:all .18s;text-align:center}
.cls-card:hover{border-color:var(--accent);background:rgba(108,99,255,.08);transform:translateY(-2px);box-shadow:0 8px 24px rgba(108,99,255,.2)}
.cls-card:active{transform:scale(.95)}
.cls-ico{font-size:26px;margin-bottom:8px}
.cls-nm{font-size:14px;font-weight:800;color:var(--text)}
.cls-ct{font-size:11px;color:var(--muted);margin-top:3px;font-weight:600}

/* ‚îÄ‚îÄ BUILDER ‚îÄ‚îÄ */
#s2 .body{display:flex;flex-direction:column}
.cam-wrap{flex-shrink:0;background:#000}
.cam-ratio{position:relative;width:100%;padding-bottom:56.25%;overflow:hidden}
.cam-ratio video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.cam-overlay{position:absolute;inset:0;pointer-events:none}
.cam-corner{position:absolute;width:24px;height:24px;border-color:var(--accent);border-style:solid}
.cam-corner.tl{top:12px;left:12px;border-width:3px 0 0 3px;border-radius:4px 0 0 0}
.cam-corner.tr{top:12px;right:12px;border-width:3px 3px 0 0;border-radius:0 4px 0 0}
.cam-corner.bl{bottom:12px;left:12px;border-width:0 0 3px 3px;border-radius:0 0 0 4px}
.cam-corner.br{bottom:12px;right:12px;border-width:0 3px 3px 0;border-radius:0 0 4px 0}
.cam-ph{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(10,10,20,.92);gap:10px;pointer-events:none}
.cam-ph.hide{display:none}
.cam-ph-ico{font-size:44px}
.cam-ph-txt{font-size:13px;color:var(--muted);text-align:center;line-height:1.5;font-weight:600}
.cam-bar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--card);border-top:1px solid var(--border);flex-shrink:0}
.cam-stat{display:flex;flex-direction:column;align-items:center;gap:2px}
.cam-stat .cnt{font-size:22px;font-weight:900;color:var(--accent2);line-height:1}
.cam-stat .lbl{font-size:9px;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:.8px}
.ico-btn{width:42px;height:42px;border:1.5px solid var(--border);background:var(--card2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;transition:all .15s}
.ico-btn:active{transform:scale(.9)}
.capture-btn{width:60px;height:60px;margin:0 auto;background:linear-gradient(135deg,var(--red),#ff6b81);border-radius:50%;border:3px solid rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer;box-shadow:0 0 0 5px rgba(255,71,87,.2),0 8px 24px rgba(255,71,87,.4);transition:all .15s}
.capture-btn:active{transform:scale(.88);box-shadow:0 0 0 2px rgba(255,71,87,.3)}
.sec-lbl{font-size:10px;font-weight:800;color:var(--muted);text-transform:uppercase;letter-spacing:1.2px;margin-bottom:12px}
.q-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.q-card{background:var(--card);border:1.5px solid var(--border);border-radius:14px;overflow:hidden;position:relative}
.q-card img{width:100%;height:120px;object-fit:cover;display:block}
.q-info{padding:8px;display:flex;align-items:center;justify-content:space-between}
.q-num{font-size:11px;font-weight:800;color:var(--accent2)}
.q-del{width:24px;height:24px;background:rgba(255,71,87,.12);border:none;border-radius:7px;color:var(--red);font-size:15px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.q-thumb{background:var(--card);border:1.5px solid var(--border);border-radius:14px;overflow:hidden;position:relative}
.q-thumb img{width:100%;aspect-ratio:4/3;object-fit:cover;display:block}
.q-thumb .q-num{position:absolute;top:6px;left:6px;background:var(--accent);color:#fff;font-size:10px;font-weight:800;padding:2px 7px;border-radius:6px}
.q-thumb .q-del{position:absolute;top:6px;right:6px;width:26px;height:26px;background:rgba(0,0,0,.5);border:none;border-radius:8px;color:#fff;font-size:15px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.empty-q{grid-column:1/-1;text-align:center;padding:32px 20px;border:2px dashed var(--border);border-radius:16px}
.e-ico{font-size:36px;margin-bottom:10px}
.e-txt{font-size:14px;font-weight:700;color:var(--light)}
.e-hint{font-size:12px;color:var(--muted);margin-top:4px;line-height:1.5}

/* ‚îÄ‚îÄ PREVIEW ‚îÄ‚îÄ */
.info-card{background:var(--card);border:1.5px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px}
.info-ttl{font-size:16px;font-weight:900;color:var(--text)}
.info-sub{font-size:12px;color:var(--muted);margin-top:3px;font-weight:600}
.info-dt{font-size:11px;color:var(--muted);margin-top:1px;font-weight:600}
.stat-row{display:flex;gap:10px;margin-top:12px}
.stat{background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:10px 16px;flex:1;text-align:center}
.stat .n{font-size:20px;font-weight:900;color:var(--accent2)}
.stat .l{font-size:10px;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:.5px;margin-top:2px}
.prev-student{background:var(--card);border:1.5px solid var(--border);border-radius:14px;padding:12px;display:flex;gap:12px;margin-bottom:8px;align-items:center}
.prev-student img{width:38px;height:54px;object-fit:cover;border-radius:4px;flex-shrink:0;border:1.5px solid var(--border)}
.prev-ph{width:42px;height:54px;background:var(--card2);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0}
.prev-info .nm{font-size:13px;font-weight:700;color:var(--text)}
.prev-info .id{font-size:11px;color:var(--muted);margin-top:2px;font-weight:600}
.prev-ord{margin-left:auto;font-size:11px;color:var(--muted);font-weight:800;background:var(--card2);padding:4px 8px;border-radius:6px;border:1px solid var(--border)}

/* ‚îÄ‚îÄ FIX BAR ‚îÄ‚îÄ */
.fix-bar{padding:12px 16px 24px;background:var(--card);border-top:1px solid var(--border);flex-shrink:0;position:relative;z-index:10}

/* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
.mdl-bg{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);backdrop-filter:blur(10px);z-index:100;align-items:flex-end}
.mdl-bg.on{display:flex}
.mdl{background:var(--card);border-radius:24px 24px 0 0;border:1.5px solid var(--border);border-bottom:none;padding:20px 20px 32px;width:100%;max-width:480px;margin:0 auto}
.mdl-handle{width:36px;height:4px;background:var(--border);border-radius:2px;margin:0 auto 20px}
.mdl h3{font-size:17px;font-weight:900;margin-bottom:20px;color:var(--text)}

/* ‚îÄ‚îÄ LOADING ‚îÄ‚îÄ */
.loading{display:flex;position:fixed;inset:0;background:rgba(0,0,0,.88);backdrop-filter:blur(14px);z-index:200;flex-direction:column;align-items:center;justify-content:center;gap:14px}
.loading.off{display:none}
.spin{width:44px;height:44px;border:3px solid rgba(108,99,255,.2);border-top-color:var(--accent);border-radius:50%;animation:spin .75s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
#ltxt{font-size:16px;font-weight:800;color:var(--text)}
#lsub{font-size:12px;color:var(--muted);font-weight:600}

/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
.toast{position:fixed;bottom:90px;left:50%;transform:translateX(-50%) translateY(16px);background:var(--card2);border:1.5px solid var(--border);color:var(--text);padding:10px 20px;border-radius:100px;font-size:13px;font-weight:700;box-shadow:0 8px 32px rgba(0,0,0,.4);opacity:0;pointer-events:none;z-index:300;transition:all .2s;white-space:nowrap}
.toast.on{opacity:1;transform:translateX(-50%) translateY(0)}
.toast.ok{border-color:var(--green);color:var(--green)}
.toast.err{border-color:var(--red);color:var(--red)}

::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}

/* ‚îÄ‚îÄ ERASƒ∞R EDIT√ñR ‚îÄ‚îÄ */
.eraser-bg{display:none;position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:400;flex-direction:column}
.eraser-bg.on{display:flex}
.eraser-topbar{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--card);border-bottom:1px solid var(--border);flex-shrink:0}
.eraser-topbar h2{font-size:15px;font-weight:800;flex:1}
.eraser-wrap{flex:1;overflow:hidden;position:relative;display:flex;align-items:flex-start;justify-content:center;background:#111}
#eraser-canvas{touch-action:none;cursor:crosshair;display:block;width:100%;height:auto;}
.eraser-bar{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--card);border-top:1px solid var(--border);flex-shrink:0}
.eraser-size{-webkit-appearance:none;appearance:none;flex:1;height:4px;background:var(--border);border-radius:2px;outline:none}
.eraser-size::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;background:var(--accent);border-radius:50%}
.eraser-hint{font-size:10px;color:var(--muted);font-weight:600}
.q-edit-hint{
  position:absolute;bottom:0;left:0;right:0;
  background:rgba(108,99,255,.75);
  color:#fff;font-size:11px;font-weight:800;
  text-align:center;padding:5px;
  border-radius:0 0 12px 12px;
  pointer-events:none;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';</script>
</head>
<body>

<div class="loading off" id="loading">
  <div class="spin"></div>
  <div id="ltxt">ƒ∞≈üleniyor‚Ä¶</div>
  <div id="lsub">L√ºtfen bekleyin</div>
</div>
<div class="toast" id="toast"></div>

<!-- SCREEN 0: WELCOME -->
<div class="screen on" id="s0">
  <div class="hero">
    <div class="hero-orb">üìö</div>
    <div class="hero-title">Soru <span>Bankasƒ±</span></div>
    <div class="hero-sub">Fotoƒüraflƒ± √∂ƒürenci listesiyle<br>profesyonel test olu≈üturun</div>
  </div>

  <div class="form-card">
    <div class="form-title">
      <div class="form-title-ico">üè´</div>
      Okul &amp; Ders Bilgileri
    </div>
    <div class="fg">
      <label class="fl">Okul Adƒ±</label>
      <input class="fi" id="f-school" type="text" placeholder="Atat√ºrk ƒ∞lkokulu">
    </div>
    <div class="fg">
      <label class="fl">Ders Adƒ±</label>
      <input class="fi" id="f-sub" type="text" placeholder="Matematik">
    </div>
    <div class="fg">
      <label class="fl">√ñƒürenci Listesi</label>
      <div class="upload" id="dz" onclick="document.getElementById('fp').click()">
        <div class="upload-ico">üìÇ</div>
        <div class="upload-txt" id="dz-txt">e-Okul PDF Y√ºkle</div>
        <div class="upload-hint" id="dz-hint">Dokunun veya PDF dosyasƒ±nƒ± s√ºr√ºkleyin</div>
      </div>
      <input type="file" id="fp" accept=".pdf,application/pdf" style="display:none">
    </div>
    <div class="prog" id="prog"><div class="prog-fill" id="pfill"></div></div>
    <button class="btn btn-p" id="btn-go" disabled onclick="gotoClasses()">Sƒ±nƒ±f Listesine Ge√ß ‚Üí</button>
  </div>
</div>

<!-- SCREEN 1: CLASS SELECTION -->
<div class="screen" id="s1">
  <div class="bar">
    <button class="bar-back" onclick="go('s0')">‚Üê</button>
    <div><h1>Sƒ±nƒ±f Se√ß</h1><small id="bar-school">Okul</small></div>
  </div>
  <div class="body pad" id="cls-list"></div>
</div>

<!-- SCREEN 2: TEST BUILDER -->
<div class="screen" id="s2">
  <div class="bar">
    <button class="bar-back" onclick="leaveBuilder()">‚Üê</button>
    <div><h1 id="b-title">Test Hazƒ±rla</h1><small id="b-sub">Ders</small></div>
    <div class="bar-right" id="b-cls"></div>
  </div>
  <div class="body">
    <div class="cam-wrap">
      <div class="cam-ratio">
        <video id="vid" autoplay playsinline muted></video>
        <div class="cam-overlay">
          <div class="cam-corner tl"></div><div class="cam-corner tr"></div>
          <div class="cam-corner bl"></div><div class="cam-corner br"></div>
        </div>
        <div class="cam-ph" id="cam-ph">
          <div class="cam-ph-ico">üì∑</div>
          <div class="cam-ph-txt">Fotoƒüraf √ßekmek i√ßin<br>kƒ±rmƒ±zƒ± butona dokunun</div>
        </div>
      </div>
    </div>
    <canvas id="cvs" style="display:none"></canvas>
    <div class="cam-bar">
      <div class="cam-stat" style="flex:1">
        <div class="cnt"><span id="qcnt">0</span></div>
        <div class="lbl">Soru eklendi</div>
      </div>
      <button class="ico-btn" onclick="switchCam()">üîÑ</button>
      <button class="capture-btn" id="cap-btn" onclick="snap()">üì∏</button>
    </div>
    <div class="pad" style="padding-top:14px;padding-bottom:80px">
      <div class="sec-lbl">üìã Sorular</div>
      <div class="q-grid" id="qgrid">
        <div class="empty-q">
          <div class="e-ico">üì∑</div>
          <div class="e-txt">Hen√ºz soru yok</div>
          <div class="e-hint">Soru sayfasƒ±nƒ± kameraya tutup<br>kƒ±rmƒ±zƒ± butona basƒ±n</div>
        </div>
      </div>
    </div>
  </div>
  <div class="fix-bar">
    <button class="btn btn-g" id="btn-fin" disabled onclick="openModal()">‚úÖ Testi Tamamla &amp; PDF Olu≈ütur</button>
  </div>
</div>

<!-- SCREEN 3: PREVIEW -->
<div class="screen" id="s3">
  <div class="bar">
    <button class="bar-back" onclick="go('s2')">‚Üê</button>
    <div><h1>√ñnizleme</h1><small id="prev-info">‚Ä¶</small></div>
  </div>
  <div class="body pad" id="prev-body"></div>
  <div class="fix-bar">
    <button class="btn btn-p" onclick="makePDF()">üì• PDF ƒ∞ndir / Kaydet</button>
  </div>
</div>

<!-- MODAL -->
<div class="mdl-bg" id="mdl">
  <div class="mdl">
    <div class="mdl-handle"></div>
    <h3>üéØ Test Ayarlarƒ±</h3>
    <div class="fg">
      <label class="fl">Test Ba≈ülƒ±ƒüƒ±</label>
      <input class="fi" id="m-ttl" type="text" placeholder="1. √únite Deƒüerlendirme">
    </div>
    <div class="fg">
      <label class="fl">Tarih</label>
      <input class="fi" id="m-dt" type="date">
    </div>
    <div class="btn-row">
      <button class="btn btn-o" onclick="closeModal()">ƒ∞ptal</button>
      <button class="btn btn-p" onclick="gotoPreview()">√ñnizle ‚Üí</button>
    </div>
  </div>
</div>

<!-- ERASER EDITOR -->
<div class="eraser-bg" id="eraser-bg">
  <div class="eraser-topbar">
    <button class="bar-back" onclick="closeEraser(false)">‚úï</button>
    <h2>‚úèÔ∏è D√ºzenle</h2>
    <button class="btn btn-sm btn-o" onclick="eraserRotate()" style="width:auto">üîÑ D√∂nd√ºr</button>
    <button class="btn btn-sm btn-o" onclick="eraserUndo()" style="width:auto">‚Ü© Geri Al</button>
    <button class="btn btn-sm btn-p" onclick="closeEraser(true)" style="width:auto">‚úÖ Kaydet</button>
  </div>
  <div class="eraser-wrap" id="eraser-wrap">
    <canvas id="eraser-canvas"></canvas>
    <canvas id="eraser-cursor" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none"></canvas>
  </div>
  <div class="eraser-bar">
    <span class="eraser-hint">üî≤ Silgi boyutu:</span>
    <input type="range" class="eraser-size" id="eraser-size" min="5" max="80" value="20">
    <span id="eraser-size-lbl" style="font-size:12px;font-weight:700;color:var(--accent2);min-width:28px">20</span>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const FONT_REG = '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AAAAAP/cAAAAAAAAAAAAAAAAAAAAAP+Q/2v/twAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/3AAAAAD/3AAA/9wAAAAAAAAAAABBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/3AAAAAD/twAAAAAAAAAAAAD/twAAAAAAAP/BAAAAAAAA/7cAAP+3/8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9r/5AAAAAm/9wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/BAAAAAAAAAAAAAP9r/7cAAP99/0T/3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/T/9z/0wAA/9wAAAAA/9z/0//cAAAAAAAAAAAAAP/JAAAAAP/TAAAAAAAAAFYAAP/J/2H/kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9wAAAAA/0T/kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/cAAD/wQAAAAAAAAAAAAD/wQAAAAAAAAAAAAAAAAAAAAAAAP/BAAAAAAAAAAAAAP/c/tz/awAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYAAAAAAAAAAP74/8H/t//B/8H/t//B/7f/twAAAAAAAAAAAAD/iAAA/9wAAAAAAAAAAP+3AAAAAAAA/5D/a/+QAAAAAAAA/7f/twAA/7f/t/9rAAD/twAAAAAAAQAoAA4AIgAjACQAJQAnACgAKQArACwALQAwADEAMgAzADQANQA2ADcAOAA5ADoAOwBGAEcATABPAFAAUwBXAFgAWQBaAGIAYwBkAGYAaABsAHEAAQAiAFAAAQACAAMABAAAAAUABgAHAAAACAAJAAoAAAAAAAsADAANAA4ADwAQABEAEgATABQAFQAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAFwAYAAAAAAAAAAAAGQAAAAAAGgAbAAAAAAAcAAAAAAAAAB0AHgAfACAAAAAAAAAAAAAAAAAAAAAhAAsAEQAAABsAAAAGAAAAAAAAAA8AAAAAAAAAAAAiAAEADgBlAAEAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAEAAUABgAHAAAACAAJAAgAAAAKAAgACAAAAAAACwAIAAwACAANAA4ADwAQABEAEgATABQAAAAAAAAAAAAAAAAAFQAAABYAFwAYABkAGgAaABsAAAAAABwAGgAdAB4AAAAXAB8AIAAhACIAIwAkACUAJgAAAAAAAAAAAAAAAAAAACcACwAPABYAKAApACoAGgAAAAAADQAgAAAAAAAAACsALAABAAAACgCeAKwAFERGTFQAemFyYWIAkGFybW4AkGJyYWkAkGNhbnMAkGNoZXIAkGN5cmwAkGdlb3IAkGdyZWsAkGhhbmkAkGhlYnIAkGthbmEAkGxhbyAAkGxhdG4AhG1hdGgAkG5rbyAAkG9nYW0AkHJ1bnIAkHRmbmcAkHRoYWkAkAAEAAAAAP//AAAABAAAAAD//wABAAAAAAAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQA2AAEACAAFAAwAFAAcACIAKACMAAMARwBNAIsAAwBHAEoAigACAE0AiQACAEoAiAACAEcAAQABAEcAAQAAAAoA4ADoAFAAPAwAB90AAAAAAoIAAARgAAAF1QAAAAAAAARgAAAAAAAAAAAAAAAAAAAEYAAAAAAAAAFoAAAEYAAAAFUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQ4AAAJ2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaAAABDgAAAFoAAABaAAABDgAAAAAAAAAAAAABDgAAAFoAAABaAAABDgAAAFoAAABaAAAAWgAAAXIAAABaAAAAWgAAAjgAAPuPAAAAPAAAAAAAAAAAACgAHAAuAAcAAgA2AF4AhgCuANYBEgEwAWwBigABAAcACQAKADwAPgBcAF0AXgABAAIAHgBAAAQAAAAAAAAAAwB3AAAAKAl1AAAAdgAoACgJjQABAHUAKAAACZYAAAAEAAAAAAAAAAMAegAAACgJdQAAAHkAKAAoCY0AAQB4ACgAAAmWAAAABAAAAAAAAAADAH0AAAAoCXUAAAB8ACgAKAmNAAEAewAoAAAJcQAAAAQAAAAAAAAAAwCAAAAAKAlmAAAAfwAoACgJfgABAH4AKAAACXEAAAAEAAAAAAAAAAUAgwAAACgJcgAAAIQAKAAoCZgAAQCCACgAKAmKAAAAhAAoACgJmAABAIEAKAAACYMAAAAEAAAAAAAAAAIAXQAAACgIAAAAAF0AKAAACAAAAQAEAAAAAAAAAAUAhwAAACgJcgAAAIQAKAAoCZgAAQCGACgAKAmKAAAAhAAoACgJmAABAIUAKAAACYMAAAAEAAAAAAAAAAIAHgAAACQEggAAAB4AJAAABIIAAQAEAAAAAAAAAAIAQAAAACQDvgAAAEAAJAAAA74AAQ==';
const FONT_BOLD = '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GQMcuAEAQJEEGw0DGhlLBRp9AxkBEQUZSwMY/gMXEQMWFSUFFvoDFQERBRUlAxRkAxMRAxL+AxEBEQUR/gMQZAMPDhAFDxMDD8AEDhADDoAEDQERBQ36AwwyAwsKDQULFgMLgAQKDQMKQAQJ/gMI/gMH/gMGBQoFBv4DBQoDBUAEBPoDA2QDAgERBQL+AwEADQUBEQMADQMBuAFkhY0BKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysdAAFmATMBZgC8AOkAAAE9AKIA+gMfAAIAAgBmAWYAAgACAKwBVADsALwAYgFmAYEEhQFUAWYBbQSkAAIBZgB/BM0AAAACATMAYgBxAAAAJQSkAbwAugDlAGYBgQGNBUgFWgFmAW0AAAAAAAIAAgD2BcMB8AU5AjkAWARtBD0EsgSBBLIBZgF1BGYEgQCwBGYEOQLRBJwEewTPBHsAWAEzAWYBTAFmAUwAAgCsAJoBSgEjAJoCmgFEARkBRALNAMEAAAFmAT8BmgE7BcsFywDVANUBUACsAKwAdwIKAccB8gEvAVgBsgEjAPYA9gEfAS8BNQI1Ae4B5wEzAJgA0QNYBQoAmgCPARIAmAC8AM0A5QDlAPIAcwQAAWYAjwXVAisF1QDDAOEA1wDlAAAAagECAAAAHQMtBdUF1QXwAKgAagDs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BgcOASMiJicuAQEKLy4wdUJBdi0vMDEuLnZCQnUuLTAC+kqCMjM1NjI0gUlKgzMzNjYzM4MAAAMAkQAABqIBgwADAAcACwAAASERIQEhESEBIREhBV0BRP68+zUBRP68AmYBRP68AYP+fQGD/n0Bg/59AAEAIwAABeYGFAAnAAABFSMiBwYdASE1NDc2OwEVIyIHBh0BIREhESERIREhESMRMzU0NzYzAzKyRBwaAXBcXMH2skQbGwET/u3+vf6Q/r2goFxcwQYU6xscRE5Ot1dY6xscRE7/APygA2D8oANgAQBOt1dYAAACACYAAAS8BhQAAwAZAAABIREhAxUjIgYdASERIREhESERIxEzNTQ2MwN2AUX+u0KyRDQCsf67/pT+u56euMAGFP7cASTrN0RO+6ADYPygA2ABAE63rwAAAQAjAAAEvAYUABUAAAEhESERIyIGHQEzESMRIREjETM1NDYCPAJ//rv2RDb8/P69oKC4BhT57AUpN0RO/wD8oANgAQBOt68AAgAjAAAHbQYUACoALgAAARUjIgcGHQEhNTQ3NjsBFSMiBwYdASERIREhESMhESERIREjETM1NDc2MykBESEDMrJEHBoBcFxcwfayQxobArL+u/6TAv69/pD+vaCgXFzBA+wBRf67BhTrGxxETk63V1jrGxxETvugA2D8oANg/KADYAEATrdXWP7cAAABACMAAAdvBhQAKQAAARUjIgcGHQEhNTQ3NjMhESERIyIHBh0BMxEjESERIREhESMRMzU0NzYzAzKyRBwaAXBcXMECgP6790QbG/39/r3+kP69oKBcXMEGFOsbHEROTrdXWPnsBSkbHERO/wD8oANg/KADYAEATrdXWAAAAv0XBQD/TwX2AAMABwAAATMVIyUzFSP9GNPTAWPU1AX29vb2AAAB/QQE7v9iBfYADQAAATMeATMyNjczDgEjIib9BYESV0RFVhOBD5uFhZsF9j08PD2Bh4cAAf23BQD+rwX2AAMAAAEzFSP9uPb2Bfb2AAAAAAcAWgADAAEECQAAATAAAAADAAEECQABACoBMAADAAEECQACAAgBWgADAAEECQADADQBYgADAAEECQAEADQBYgADAAEECQAFABgBlgADAAEECQAGADABrgBDAG8AcAB5AHIAaQBnAGgAdAAgACgAYwApACAAMgAwADAAMwAg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';


const S = {
  school:'', subject:'',
  classes:{},
  selClass:'',
  questions:[],
  stream:null,
  facing:'environment',
};

function go(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('on'));
  document.getElementById(id).classList.add('on');
  window.scrollTo(0,0);
}
function gotoClasses(){
  S.school = document.getElementById('f-school').value || 'Okul';
  S.subject= document.getElementById('f-sub').value   || 'Ders';
  document.getElementById('bar-school').textContent = S.school;
  renderClasses();
  go('s1');
}
function leaveBuilder(){ stopCam(); go('s1'); }

// ‚îÄ‚îÄ‚îÄ PDF PARSE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// e-Okul: 595pt sayfa, 8 s√ºtun (~66pt/s√ºtun)
// T√ºrk√ße harfler par√ßalanmƒ±≈ü olabilir ‚Üí √∂nce s√ºtuna ata, sonra birle≈ütir

const COL_BOUNDS = [0, 107, 177, 247, 322, 392, 462, 535, 600];
function getCol(x) {
  for (let i = 0; i < COL_BOUNDS.length - 1; i++)
    if (x >= COL_BOUNDS[i] && x < COL_BOUNDS[i+1]) return i;
  return -1;
}

async function parsePDF(file) {
  const dz    = document.getElementById('dz');
  const prog  = document.getElementById('prog');
  const pfill = document.getElementById('pfill');
  prog.style.display = 'block';
  pfill.style.width  = '0%';
  dz.innerHTML = `<div class="upload-ico">‚è≥</div>
    <div class="upload-txt">PDF okunuyor‚Ä¶</div>
    <div class="upload-hint">L√ºtfen bekleyin</div>`;

  try {
    const buf   = await file.arrayBuffer();
    const pdf   = await pdfjsLib.getDocument({data: buf}).promise;
    const total = pdf.numPages;
    const classes = {};
    let schoolName = '';

    for (let p = 1; p <= total; p++) {
      pfill.style.width = Math.round(p / total * 72) + '%';
      const hint = dz.querySelector('.upload-hint');
      if (hint) hint.textContent = `Sayfa ${p}/${total} i≈üleniyor‚Ä¶`;

      const page     = await pdf.getPage(p);
      const pageH    = page.view[3]; // PDF y√ºksekliƒüi (pt)
      const scale    = 1.5;
      const viewport = page.getViewport({scale});

      // Canvas render (fotoƒüraf √ßƒ±karma i√ßin)
      const cvs = document.createElement('canvas');
      cvs.width  = viewport.width;
      cvs.height = viewport.height;
      await page.render({canvasContext: cvs.getContext('2d'), viewport}).promise;

      // Text extraction
      const tc = await page.getTextContent();

      // Her item'ƒ±: topDown Y + s√ºtun numarasƒ±na yerle≈ütir
      // topDown = pageH - y_pdf  ‚Üí k√º√ß√ºk = √ºstte
      // Tolerans: 3pt ‚Üí aynƒ± satƒ±r
      const TOL = 4;
      // rowColMap[yBucket][col] = birle≈üik string
      const rowColMap = {}; // yBucket ‚Üí {col: string}
      const rowYReal  = {}; // yBucket ‚Üí ger√ßek y deƒüeri

      tc.items.forEach(item => {
        const s = item.str;
        if (!s.trim()) return;
        const x    = item.transform[4];
        const yPdf = item.transform[5];
        const yTop = Math.round((pageH - yPdf) / TOL) * TOL;
        const col  = getCol(x);
        if (col < 0) return;

        if (!rowColMap[yTop]) {
          rowColMap[yTop] = {};
          rowYReal[yTop]  = pageH - yPdf;
        }
        // Aynƒ± s√ºtundaki par√ßalarƒ± X sƒ±rasƒ±yla birle≈ütir
        if (!rowColMap[yTop][col]) rowColMap[yTop][col] = [];
        rowColMap[yTop][col].push({x, s});
      });

      // Sƒ±ralanmƒ±≈ü Y listesi (topDown)
      const sortedYs = Object.keys(rowColMap).map(Number).sort((a,b)=>a-b);

      // Her Y satƒ±rƒ± i√ßin s√ºtun i√ßeriklerini birle≈ütir
      // rowData[yBucket] = {0: "ADEN √áALI≈û", 1: "BUƒûLEM AYKIZ", ...}
      const rowData = {};
      sortedYs.forEach(y => {
        rowData[y] = {};
        Object.entries(rowColMap[y]).forEach(([col, parts]) => {
          rowData[y][parseInt(col)] = parts
            .sort((a,b)=>a.x-b.x)
            .map(p=>p.s)
            .join('');
        });
      });

      // --- Header parse ---
      // ƒ∞lk 5 satƒ±rdan okul ve sƒ±nƒ±f adƒ± al
      let className = null;
      const HEADER_ROWS = sortedYs.slice(0, 8);
      for (const y of HEADER_ROWS) {
        // T√ºm s√ºtunlarƒ± birle≈ütir (ba≈ülƒ±k ortalƒ± gelir)
        const fullLine = Object.values(rowData[y]).join(' ').replace(/\s+/g,' ').trim();
        if (!schoolName && (fullLine.includes('M√ºd√ºrl√ºƒü√º') || fullLine.includes('Okulu'))) {
          schoolName = fullLine.replace(/.*\/\s*/,'').replace(/\s*[Mm]√ºd√ºrl√ºƒü√º.*/i,'').trim();
        }
        const cm = fullLine.match(/(\d+)\.\s*S[iƒ±]n[iƒ±]f\s*[\/\s]+([A-Z√áƒûƒ∞√ñ≈û√ú])\s*[≈û≈ü]ubesi/i);
        if (cm) {
          className = `${cm[1]}. Sƒ±nƒ±f / ${cm[2].toUpperCase()} ≈ûubesi`;
          break;
        }
      }
      if (!className) continue;

      // --- √ñƒürenci parse ---
      // HEADER_Y_LIMIT: ba≈ülƒ±k b√∂lgesini atla (~%12 = ~100pt)
      const HEADER_Y_LIMIT = 100;
      const isNum  = s => /^\d{1,4}$/.test(s.trim());
      const isName = s => /^[A-Z√áƒûƒ∞√ñ≈û√úa-z√ßƒüƒ±≈ü√∂√º\s]{2,50}$/.test(s.trim()) && /[A-Z√áƒûƒ∞√ñ≈û√ú]/.test(s);

      // Her s√ºtun i√ßin: (y, type, value) listesi tut
      const colItems = Array.from({length:8}, ()=>[]);

      sortedYs.forEach(y => {
        if (y < HEADER_Y_LIMIT) return;
        Object.entries(rowData[y]).forEach(([colStr, val]) => {
          const col = parseInt(colStr);
          const v   = val.trim();
          if (!v) return;
          if (isNum(v))       colItems[col].push({y, val:v, type:'num'});
          else if (isName(v)) colItems[col].push({y, val:v, type:'name'});
        });
      });

      // Her s√ºtunda: name biriktir ‚Üí num gelince √∂ƒürenci tamamla
      const allStudents = []; // {rowY, col, name, id}
      colItems.forEach((items, col) => {
        const sorted = [...items].sort((a,b)=>a.y-b.y);
        let nameBuf = '', nameY = null;
        sorted.forEach(({y, val, type}) => {
          if (type === 'name') {
            nameBuf = nameBuf ? nameBuf + ' ' + val : val;
            if (nameY === null) nameY = y;
          } else if (type === 'num' && nameBuf.trim().length > 2) {
            allStudents.push({rowY: nameY, col, name: nameBuf.trim(), id: val});
            nameBuf = ''; nameY = null;
          } else if (type === 'num') {
            nameBuf = ''; nameY = null;
          }
        });
      });

      // G√∂rsel sƒ±raya g√∂re: Y satƒ±rƒ± ‚Üí s√ºtun
      allStudents.sort((a,b) => a.rowY !== b.rowY ? a.rowY-b.rowY : a.col-b.col);

      // Fotoƒüraf √ßƒ±kar ‚Äî e-Okul PDF layout kesin deƒüerleri
      // (PDF.js scale=1.5 ‚Üí canvas 892x1262px)
      // ƒ∞lk foto: x=98, y=137 | Adƒ±m: x+=106/s√ºtun, y+=139/satƒ±r | Boyut: 48x80px
      // √ñNEMLƒ∞: i%8 kullanma! √ñƒürencinin ger√ßek s√ºtun+satƒ±r bilgisini kullan
      const PX_FIRST = 98,  PX_STEP = 106;
      const PY_FIRST = 137, PY_STEP = 139;
      const PW = 48, PH = 80;

      // Benzersiz Y satƒ±rlarƒ±nƒ± belirle (parse sƒ±rasƒ±ndaki rowY deƒüerleri)
      const uniqueRowYs = [...new Set(allStudents.map(s => Math.round(s.rowY / 10) * 10))].sort((a,b)=>a-b);
      const rowYToIndex = {};
      uniqueRowYs.forEach((y, i) => { rowYToIndex[Math.round(y/10)*10] = i; });

      const students = allStudents.map(st => {
        const rowIdx = rowYToIndex[Math.round(st.rowY / 10) * 10] ?? 0;
        const colIdx = st.col;
        const px = PX_FIRST + colIdx * PX_STEP;
        const py = PY_FIRST + rowIdx * PY_STEP;
        let photoB64 = '';
        if (px + PW <= cvs.width && py + PH <= cvs.height) {
          const tmp = document.createElement('canvas');
          tmp.width = PW; tmp.height = PH;
          tmp.getContext('2d').drawImage(cvs, px, py, PW, PH, 0, 0, PW, PH);
          photoB64 = tmp.toDataURL('image/jpeg', 0.85).split(',')[1];
        }
        return {name: st.name, id: st.id, photoB64};
      });

      classes[className] = students;
    }

    pfill.style.width = '100%';
    const nc = Object.keys(classes).length;
    const ns = Object.values(classes).reduce((a,b) => a+b.length, 0);

    if (ns === 0) {
      dz.innerHTML = `<div class="upload-ico">‚ö†Ô∏è</div>
        <div class="upload-txt">√ñƒürenci bulunamadƒ±</div>
        <div class="upload-hint">e-Okul fotoƒüraflƒ± √∂ƒürenci listesi PDF'ini kullanƒ±n</div>`;
      toast('PDF formatƒ± tanƒ±namadƒ±','err');
      prog.style.display='none'; return;
    }

    S.classes = classes;
    if (schoolName) {
      const sf = document.getElementById('f-school');
      if (!sf.value) sf.value = schoolName;
    }
    dz.innerHTML = `<div class="upload-ico">‚úÖ</div>
      <div class="upload-txt">${nc} Sƒ±nƒ±f Y√ºklendi</div>
      <div class="upload-hint">${ns} √∂ƒürenci hazƒ±r</div>`;
    dz.className = 'upload ok';
    document.getElementById('btn-go').disabled = false;
    toast(`${nc} sƒ±nƒ±f ‚Ä¢ ${ns} √∂ƒürenci y√ºklendi`,'ok');

  } catch(err) {
    console.error('parsePDF error:', err);
    dz.innerHTML = `<div class="upload-ico">‚ùå</div>
      <div class="upload-txt">Hata olu≈ütu</div>
      <div class="upload-hint">${err.message}</div>`;
    toast('PDF y√ºklenemedi: '+err.message,'err');
  }
  prog.style.display='none';
}


document.getElementById('fp').addEventListener('change', e=>{
  const file = e.target.files[0];
  if(file) parsePDF(file);
});

// Drag & drop da dosyayƒ± parse et
const dz=document.getElementById('dz');
dz.addEventListener('dragover',e=>{e.preventDefault();dz.classList.add('drag');});
dz.addEventListener('dragleave',()=>dz.classList.remove('drag'));
dz.addEventListener('drop',e=>{
  e.preventDefault();dz.classList.remove('drag');
  const file=e.dataTransfer.files[0];
  if(file&&file.type==='application/pdf') parsePDF(file);
});

// ‚îÄ‚îÄ‚îÄ CLASS RENDERING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderClasses(){
  const el = document.getElementById('cls-list');
  el.innerHTML='';

  // Group by grade
  const grades={};
  for(const cls of Object.keys(S.classes)){
    const m = cls.match(/(\d+)\.?\s*Sƒ±nƒ±f/);
    const g = m ? m[1]+'. Sƒ±nƒ±f' : 'Diƒüer';
    (grades[g]||(grades[g]=[])).push(cls);
  }

  const ICONS={'5':'üå±','6':'üåø','7':'üå≥','8':'üéì'};
  Object.entries(grades).sort((a,b)=>parseInt(a[0])-parseInt(b[0]))
  .forEach(([grade,classes])=>{
    const sec = document.createElement('div');
    sec.className = 'grade-sec';
    const ico = ICONS[grade.charAt(0)]||'üìö';
    sec.innerHTML = `<div class="grade-lbl">${grade} ${ico}</div><div class="cls-grid" id="g-${grade}"></div>`;
    el.appendChild(sec);

    const grid = sec.querySelector('.cls-grid');
    classes.sort().forEach(cls=>{
      const n = S.classes[cls].length;
      const short = cls.replace(/\d+\.?\s*Sƒ±nƒ±f\s*\/?\s*/,'').replace(/\s*≈ûubesi/,'');
      const card = document.createElement('div');
      card.className = 'cls-card';
      card.innerHTML = `<div class="cls-ico">üìù</div><div class="cls-nm">${short}</div><div class="cls-ct">${n} √∂ƒürenci</div>`;
      card.onclick = ()=> selectClass(cls);
      grid.appendChild(card);
    });
  });
}

function selectClass(cls){
  S.selClass = cls;
  S.questions = [];

  const short = cls.replace(/\d+\.?\s*Sƒ±nƒ±f\s*\/?\s*/,'').replace(/\s*≈ûubesi/,'');
  document.getElementById('b-title').textContent = short+' Testi';
  document.getElementById('b-sub').textContent   = S.subject;
  document.getElementById('b-cls').textContent   = cls;
  document.getElementById('btn-fin').disabled    = true;

  renderQ();
  updQCount();
  startCam();
  go('s2');
}



// ‚îÄ‚îÄ‚îÄ CAMERA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function startCam(){
  stopCam();
  const vid=document.getElementById('vid');
  const ph =document.getElementById('cam-ph');
  try{
    const stream = await navigator.mediaDevices.getUserMedia({
      video:{facingMode:S.facing,width:{ideal:1920},height:{ideal:1080}}
    });
    S.stream = stream;
    vid.srcObject = stream;
    vid.style.display='block';
    ph.style.display='none';
  }catch(e){
    ph.innerHTML=`<div class="cam-ph-ico">‚ö†Ô∏è</div><div class="cam-ph-txt">Kamera eri≈üimi yok<br><small>${e.message}</small></div>`;
    ph.style.display='flex';
    vid.style.display='none';
    // File fallback
    const cap=document.getElementById('cap-btn');
    cap.textContent='üñºÔ∏è';
    cap.onclick=()=>{
      const inp=document.createElement('input');
      inp.type='file'; inp.accept='image/*'; inp.multiple=true;
      inp.onchange=ev=>Array.from(ev.target.files).forEach(f=>{
        const r=new FileReader();
        r.onload=e=>addQ(e.target.result);
        r.readAsDataURL(f);
      });
      inp.click();
    };
  }
}

function stopCam(){
  if(S.stream){ S.stream.getTracks().forEach(t=>t.stop()); S.stream=null; }
}

async function switchCam(){
  S.facing = S.facing==='environment'?'user':'environment';
  await startCam();
}

function snap(){
  const vid=document.getElementById('vid');
  if(!vid.srcObject){ toast('√ñnce kamerayƒ± ba≈ülatƒ±n','err'); return; }
  if(vid.videoWidth===0){ toast('Kamera hazƒ±r deƒüil','err'); return; }

  const cvs=document.getElementById('cvs');
  const vw=vid.videoWidth, vh=vid.videoHeight;
  cvs.width = vw;
  cvs.height = vh;
  const ctx=cvs.getContext('2d');
  ctx.drawImage(vid, 0, 0);

  const processed = docEffect(cvs);

  // Direkt kaydet
  S.questions.push(processed);
  updQCount();
  renderQ();
  document.getElementById('btn-fin').disabled = false;
  toast(`Soru ${S.questions.length} eklendi ‚úì`, 'ok');

  // Flash
  const wrap=document.querySelector('.cam-wrap');
  wrap.style.filter='brightness(3)';
  setTimeout(()=>{ wrap.style.filter=''; },120);
}

function docEffect(cvs){
  const W=cvs.width, H=cvs.height;
  const ctx=cvs.getContext('2d');
  const id=ctx.getImageData(0,0,W,H);
  const d=id.data;
  const n=W*H;

  // 1. Convert to grayscale
  const gray=new Uint8Array(n);
  for(let i=0;i<n;i++){
    gray[i]=0.299*d[i*4]+0.587*d[i*4+1]+0.114*d[i*4+2];
  }

  // 2. Adaptive threshold via integral image
  // Block size ~4% of shorter dimension ‚Äî handles uneven lighting
  let BLK=Math.round(Math.min(W,H)*0.04);
  if(BLK%2===0) BLK++;
  BLK=Math.max(15,BLK);
  const half=BLK>>1;

  // Integral image
  const iW=W+1, iH=H+1;
  const sum=new Float64Array(iW*iH);
  for(let y=0;y<H;y++)
    for(let x=0;x<W;x++){
      const s=(y+1)*iW+(x+1);
      sum[s]=gray[y*W+x]+sum[y*iW+(x+1)]+sum[(y+1)*iW+x]-sum[y*iW+x];
    }

  for(let y=0;y<H;y++){
    for(let x=0;x<W;x++){
      const x1=Math.max(0,x-half), y1=Math.max(0,y-half);
      const x2=Math.min(W-1,x+half), y2=Math.min(H-1,y+half);
      const count=(x2-x1+1)*(y2-y1+1);
      const s=sum[(y2+1)*iW+(x2+1)]-sum[y1*iW+(x2+1)]-sum[(y2+1)*iW+x1]+sum[y1*iW+x1];
      const mean=s/count;
      // Pixel darker than 85% of local mean ‚Üí siyah (yazƒ±), aksi halde beyaz
      const val=gray[y*W+x]<mean*0.85 ? 0 : 255;
      const p=(y*W+x)*4;
      d[p]=d[p+1]=d[p+2]=val;
      d[p+3]=255;
    }
  }

  ctx.putImageData(id,0,0);
  return cvs.toDataURL('image/jpeg',.95);
}

function addQ(dataURL){
  S.questions.push(dataURL);
  updQCount();
  renderQ();
  document.getElementById('btn-fin').disabled=false;
  toast(`Soru ${S.questions.length} eklendi ‚úì`,'ok');
}

function delQ(i){
  S.questions.splice(i,1);
  updQCount();
  renderQ();
  document.getElementById('btn-fin').disabled = S.questions.length===0;
}

function updQCount(){ document.getElementById('qcnt').textContent=S.questions.length; }

function renderQ(){
  const g=document.getElementById('qgrid');
  if(!S.questions.length){
    g.innerHTML=`<div class="empty-q"><div class="e-ico">üì∑</div><div class="e-txt">Hen√ºz soru yok</div><div class="e-hint">Soru sayfasƒ±nƒ± kameraya tutup<br>kƒ±rmƒ±zƒ± butona basƒ±n</div></div>`;
    return;
  }
  g.innerHTML='';
  S.questions.forEach((q,i)=>{
    const d=document.createElement('div');
    d.className='q-thumb';
    // T√ºm kart tƒ±klanƒ±nca silgi a√ßƒ±lƒ±r
    d.onclick=(e)=>{ if(!e.target.classList.contains('q-del')) openEraser(S.questions[i],i); };
    d.style.cursor='pointer';
    d.innerHTML=`
      <img src="${q}">
      <span class="q-num">S.${i+1}</span>
      <button class="q-del" onclick="event.stopPropagation();delQ(${i})">‚úï</button>
      <div class="q-edit-hint">‚úèÔ∏è d√ºzenle</div>`;
    g.appendChild(d);
  });
}

// ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openModal(){
  document.getElementById('m-dt').value=new Date().toISOString().split('T')[0];
  document.getElementById('mdl').classList.add('on');
}
function closeModal(){ document.getElementById('mdl').classList.remove('on'); }
document.getElementById('mdl').addEventListener('click',e=>{ if(e.target===document.getElementById('mdl')) closeModal(); });

function gotoPreview(){
  closeModal();
  const students = S.classes[S.selClass]||[];
  document.getElementById('prev-info').textContent=
    `${S.selClass} ‚Ä¢ ${S.questions.length} soru ‚Ä¢ ${students.length} √∂ƒürenci`;

  const ttl=document.getElementById('m-ttl').value||'Deƒüerlendirme Testi';
  const dt =document.getElementById('m-dt').value;
  const body=document.getElementById('prev-body');

  body.innerHTML=`
    <div class="info-card">
      <div class="ttl">${ttl}</div>
      <div class="sub">${S.school} ‚Ä¢ ${S.subject}</div>
      <div class="dt">${S.selClass} ‚Ä¢ ${dt}</div>
      <div class="stat-row">
        <div class="stat"><div class="n">${S.questions.length}</div><div class="l">Soru</div></div>
        <div class="stat"><div class="n">${students.length}</div><div class="l">√ñƒürenci</div></div>
      </div>
    </div>
    <div class="sec-lbl" style="margin-top:4px">√ñƒürenciler</div>
    ${students.map((s,i)=>`
      <div class="prev-student">
        ${s.photoB64?`<img src="data:image/jpeg;base64,${s.photoB64}" alt="${s.name}">`
          :`<div class="prev-ph">üë§</div>`}
        <div class="prev-info"><div class="nm">${s.name}</div><div class="id">No: ${s.id}</div></div>
        <div class="prev-ord">#${i+1}</div>
      </div>
    `).join('')}
  `;
  go('s3');
}



function openModal(){
  document.getElementById('m-dt').value=new Date().toISOString().split('T')[0];
  document.getElementById('mdl').classList.add('on');
}
function closeModal(){ document.getElementById('mdl').classList.remove('on'); }
document.getElementById('mdl').addEventListener('click',e=>{ if(e.target===document.getElementById('mdl')) closeModal(); });

function gotoPreview(){
  closeModal();
  const students = S.classes[S.selClass]||[];
  document.getElementById('prev-info').textContent=
    `${S.selClass} ‚Ä¢ ${S.questions.length} soru ‚Ä¢ ${students.length} √∂ƒürenci`;

  const ttl=document.getElementById('m-ttl').value||'Deƒüerlendirme Testi';
  const dt =document.getElementById('m-dt').value;
  const body=document.getElementById('prev-body');

  body.innerHTML=`
    <div class="info-card">
      <div class="info-ttl">${ttl}</div>
      <div class="info-sub">${S.school} ¬∑ ${S.subject}</div>
      <div class="info-dt">${S.selClass} ¬∑ ${dt}</div>
      <div class="stat-row">
        <div class="stat"><div class="n">${S.questions.length}</div><div class="l">Soru</div></div>
        <div class="stat"><div class="n">${students.length}</div><div class="l">√ñƒürenci</div></div>
      </div>
    </div>
    <div class="sec-lbl" style="margin-top:4px">√ñƒürenciler</div>
    ${students.map((s,i)=>`
      <div class="prev-student">
        ${s.photoB64?`<img src="data:image/jpeg;base64,${s.photoB64}" alt="${s.name}">`
          :`<div class="prev-ph">üë§</div>`}
        <div class="prev-info"><div class="nm">${s.name}</div><div class="id">No: ${s.id}</div></div>
        <div class="prev-ord">#${i+1}</div>
      </div>
    `).join('')}
  `;
  go('s3');
}

async function makePDF(){
  load('PDF olu≈üturuluyor‚Ä¶','Her √∂ƒürenci i√ßin ayrƒ± sayfa hazƒ±rlanƒ±yor');
  try{
    const {jsPDF}=window.jspdf;
    const doc=new jsPDF({orientation:'portrait',unit:'mm',format:'a4'});

    doc.addFileToVFS('DejaVuSans.ttf', FONT_REG);
    doc.addFont('DejaVuSans.ttf', 'DejaVu', 'normal');
    doc.addFileToVFS('DejaVuSans-Bold.ttf', FONT_BOLD);
    doc.addFont('DejaVuSans-Bold.ttf', 'DejaVu', 'bold');

    const students=S.classes[S.selClass]||[];
    const qs=S.questions;
    const ttl=document.getElementById('m-ttl').value||'Deƒüerlendirme Testi';
    const dt=document.getElementById('m-dt').value;
    const PW=210,PH=297,M=10,CW=PW-M*2;
    const INK=[26,35,126],INK3=[57,73,171],RED=[229,57,53];
    const GRAY=[100,110,130],LG=[238,241,252],WHITE=[255,255,255];

    for(let si=0;si<students.length;si++){
      const st=students[si];
      if(si>0) doc.addPage();
      upd(`${si+1}/${students.length}: ${st.name}`,'Sayfa olu≈üturuluyor‚Ä¶');

      doc.setFillColor(...INK); doc.rect(0,0,PW,28,'F');
      doc.setTextColor(...WHITE); doc.setFont('DejaVu','bold'); doc.setFontSize(9);
      doc.text(S.school.toUpperCase(), M, 9);
      doc.setFont('DejaVu','normal'); doc.setFontSize(7.5);
      doc.text(`${S.subject}  ‚Ä¢  ${S.selClass}`, M, 15);
      doc.text(dt, M, 20);
      doc.setFont('DejaVu','bold'); doc.setFontSize(11);
      doc.text(ttl, PW-M, 16, {align:'right'});
      doc.setFillColor(...RED); doc.rect(0,27,PW,2.5,'F');

      let y=34; const SPH=26;
      doc.setFillColor(...LG); doc.roundedRect(M,y,CW,SPH,3,3,'F');
      doc.setDrawColor(...INK3); doc.setLineWidth(0.4);
      doc.roundedRect(M,y,CW,SPH,3,3,'S');

      if(st.photoB64){
        try{
          doc.addImage('data:image/jpeg;base64,'+st.photoB64,'JPEG',M+3,y+3,12,20);
          doc.setDrawColor(...INK3); doc.setLineWidth(0.3);
          doc.rect(M+3,y+3,12,20,'S');
        }catch(e){}
      } else {
        doc.setFillColor(...INK3); doc.rect(M+3,y+3,13,18,'F');
      }

      doc.setTextColor(...INK); doc.setFont('DejaVu','bold'); doc.setFontSize(12);
      doc.text(st.name, M+20, y+9);
      doc.setTextColor(...GRAY); doc.setFont('DejaVu','normal'); doc.setFontSize(8.5);
      doc.text(`√ñƒürenci No: ${st.id}`, M+20, y+15.5);
      doc.text(`${S.selClass}  ‚Ä¢  ${S.subject}`, M+20, y+21);
      doc.setFillColor(...INK); doc.roundedRect(PW-M-22,y+7,20,9,2,2,'F');
      doc.setTextColor(...WHITE); doc.setFont('DejaVu','bold'); doc.setFontSize(6.5);
      doc.text(`${qs.length} SORU`, PW-M-12, y+13, {align:'center'});

      y+=SPH+8;
      const CGAP=5, CQW=(CW-CGAP)/2;
      const QGAP=4;
      const BADGE_H=6.5; // soru numarasƒ± rozeti y√ºksekliƒüi (mm)
      const MIN_QH=35;   // minimum soru y√ºksekliƒüi ‚Äî okunabilir alt sƒ±nƒ±r
      const MAX_QH=90;   // maximum soru y√ºksekliƒüi ‚Äî √ßok b√ºy√ºk olmasƒ±n

      // Her sorunun doƒüal en-boy oranƒ±nƒ± hesapla (canvas'tan)
      // dataURL'den Image olu≈üturup boyutunu al
      const qRatios = await Promise.all(qs.map(dataURL => new Promise(resolve=>{
        const img=new Image();
        img.onload=()=>resolve(img.naturalWidth>0 ? img.naturalHeight/img.naturalWidth : 0.75);
        img.onerror=()=>resolve(0.75);
        img.src=dataURL;
      })));

      // Her sorunun ideal y√ºksekliƒüini hesapla (mm cinsinden, s√ºtun geni≈üliƒüine g√∂re)
      // CQW mm geni≈ülikte, orijinal oran korunarak
      const idealHeights = qRatios.map(r=>{
        const qhCalc = CQW * r + BADGE_H;
        return Math.max(MIN_QH, Math.min(MAX_QH, qhCalc));
      });

      // Sayfalarƒ± dinamik olarak olu≈ütur
      // ƒ∞lk sayfa: y'den ba≈ülar, avH = PH - y - M - footer
      // Sonraki sayfalar: M+8'den ba≈ülar, avH = PH - (M+8) - M - 0 (footer yok)
      const firstAvH = PH - y - M - 9;
      const contAvH  = PH - (M+8) - M;

      const pageGroups = []; // [[{q,n,qh}, ...], ...]
      let curPage = [], curH = 0, curAvH = firstAvH;

      qs.forEach((q, i)=>{
        const qh = idealHeights[i];
        const needed = qh + (curPage.length > 0 ? QGAP : 0);
        // Her s√ºtunda 1 soru var; satƒ±r sayƒ±sƒ± = ceil(curPage.length/2)
        // Yeni soruyu ekleyince ka√ß satƒ±r olur?
        const rowsAfter = Math.ceil((curPage.length+1)/2);
        const heightAfter = rowsAfter * qh + (rowsAfter-1)*QGAP;
        if(curPage.length > 0 && heightAfter > curAvH){
          pageGroups.push(curPage);
          curPage = [];
          curH = 0;
          curAvH = contAvH;
        }
        curPage.push({q, n:i+1, qh});
      });
      if(curPage.length) pageGroups.push(curPage);

      // Sayfalarƒ± √ßiz
      for(let pi=0; pi<pageGroups.length; pi++){
        const pageQs = pageGroups[pi];
        if(pi>0){
          doc.addPage();
          y = M+8;
        }

        // Bu sayfadaki sorular i√ßin QH'yi ortala (hepsi aynƒ± orana sahip deƒüilse max al)
        const pageQH = Math.max(...pageQs.map(p=>p.qh));
        const rows = Math.ceil(pageQs.length/2);

        const leftQ=[], rightQ=[];
        pageQs.forEach(({q,n,qh},i)=>{ (i%2===0?leftQ:rightQ).push({q,n,qh}); });

        for(let col=0;col<2;col++){
          const colArr=col===0?leftQ:rightQ;
          const cx=M+col*(CQW+CGAP);
          colArr.forEach(({q,n,qh},ri)=>{
            const qy=y+ri*(pageQH+QGAP);
            // Rozet
            doc.setFillColor(...INK); doc.roundedRect(cx,qy,10,5.5,1,1,'F');
            doc.setTextColor(...WHITE); doc.setFont('DejaVu','bold'); doc.setFontSize(5.5);
            doc.text(`S.${n}`,cx+5,qy+3.8,{align:'center'});
            // G√∂rsel
            const ix=cx, iy=qy+BADGE_H, iw=CQW, ih=pageQH-BADGE_H;
            doc.setFillColor(255,255,255);
            doc.rect(ix,iy,iw,ih,'F');
            try{ doc.addImage(q,'JPEG',ix,iy,iw,ih); }
            catch(e){
              doc.setTextColor(...GRAY); doc.setFontSize(7);
              doc.text('G√∂rsel',ix+iw/2,iy+ih/2,{align:'center'});
            }
          });
        }
      }

      doc.setFillColor(...INK); doc.rect(0,PH-9,PW,9,'F');
      doc.setTextColor(...WHITE); doc.setFont('DejaVu','normal'); doc.setFontSize(6.5);
      doc.text(S.school, M, PH-3.5);
      doc.text(`${si+1} / ${students.length}`, PW-M, PH-3.5, {align:'right'});
      doc.text(ttl, PW/2, PH-3.5, {align:'center'});
    }

    const fname=`${S.selClass.replace(/\s*\/\s*/g,'-').replace(/\s+/g,'_')}_`
               +`${S.subject.replace(/\s+/g,'_')}_${dt}_test.pdf`;
    doc.save(fname);
    hide();
    toast('PDF kaydedildi ‚úì','ok');
  }catch(e){
    console.error(e); hide();
    toast('Hata: '+e.message,'err');
  }
}

// ‚îÄ‚îÄ‚îÄ ERASER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let _eraserIdx = -1;
let _eraserHistory = [];
let _eraserDrawing = false;

function openEraser(dataURL, idx){
  _eraserIdx = idx;
  _eraserHistory = [];
  const bg = document.getElementById('eraser-bg');
  const cvs = document.getElementById('eraser-canvas');
  bg.classList.add('on');

  toast('Parmaƒüƒ±nƒ±zla silmek istediƒüiniz alanƒ± silin','ok');
  const img = new Image();
  img.onload = ()=>{
    // Canvas boyutunu ekrana sƒ±ƒüacak ≈üekilde ayarla
    const maxW = window.innerWidth;
    const maxH = window.innerHeight - 130;
    const scale = Math.min(maxW / img.width, maxH / img.height);
    cvs.width  = Math.round(img.width  * scale);
    cvs.height = Math.round(img.height * scale);
    cvs.dataset.scale  = scale;
    cvs.dataset.origW  = img.width;
    cvs.dataset.origH  = img.height;
    const ctx = cvs.getContext('2d');
    ctx.drawImage(img, 0, 0, cvs.width, cvs.height);
    _eraserHistory = [ctx.getImageData(0,0,cvs.width,cvs.height)];
  };
  img.src = dataURL;
}

function closeEraser(save){
  const bg  = document.getElementById('eraser-bg');
  const cvs = document.getElementById('eraser-canvas');

  if(save && _eraserIdx >= 0){
    // Canvas'taki mevcut g√∂r√ºnt√ºy√º direkt kaydet (√∂l√ßekleme yok, ne g√∂r√ºn√ºyorsa o)
    const dataURL = cvs.toDataURL('image/jpeg', 0.95);

    if(_eraserIdx < S.questions.length){
      // Mevcut soruyu g√ºncelle
      S.questions[_eraserIdx] = dataURL;
      toast('Soru g√ºncellendi ‚úì', 'ok');
    } else {
      // Yeni soru ekle
      S.questions.push(dataURL);
      updQCount();
      document.getElementById('btn-fin').disabled = false;
      toast(`Soru ${S.questions.length} eklendi ‚úì`, 'ok');
    }
    renderQ();
  }
  // ƒ∞ptal: yeni soruysa hi√ßbir ≈üey ekleme
  bg.classList.remove('on');
  _eraserIdx = -1;
}

function eraserUndo(){
  if(_eraserHistory.length < 2) return;
  _eraserHistory.pop();
  const cvs = document.getElementById('eraser-canvas');
  cvs.getContext('2d').putImageData(_eraserHistory[_eraserHistory.length-1], 0, 0);
}

function eraserRotate(){
  const cvs = document.getElementById('eraser-canvas');
  const ctx = cvs.getContext('2d');
  // Mevcut g√∂r√ºnt√ºy√º kaydet
  _eraserHistory.push(ctx.getImageData(0,0,cvs.width,cvs.height));

  // 90¬∞ saat y√∂n√ºnde d√∂nd√ºr
  const tmp = document.createElement('canvas');
  tmp.width  = cvs.height;
  tmp.height = cvs.width;
  const tctx = tmp.getContext('2d');
  tctx.translate(tmp.width, 0);
  tctx.rotate(Math.PI/2);
  tctx.drawImage(cvs, 0, 0);

  // Yeni boyutlarƒ± uygula
  cvs.width  = tmp.width;
  cvs.height = tmp.height;
  // dataset g√ºncelle (kaydederken kullanƒ±lƒ±r)
  cvs.dataset.origW = tmp.width;
  cvs.dataset.origH = tmp.height;
  ctx.drawImage(tmp, 0, 0);

  // History sƒ±fƒ±rla (boyut deƒüi≈üti)
  _eraserHistory = [ctx.getImageData(0,0,cvs.width,cvs.height)];
}

// Silgi √ßizim olaylarƒ±
(function(){
  const sizeSlider = document.getElementById('eraser-size');
  const sizeLbl    = document.getElementById('eraser-size-lbl');
  sizeSlider.addEventListener('input', ()=>{ sizeLbl.textContent = sizeSlider.value; });

  function getPos(e, cvs){
    const r = cvs.getBoundingClientRect();
    const touch = e.touches ? e.touches[0] : e;
    // Canvas ger√ßek piksel boyutu ile ekrandaki g√∂r√ºnen boyutu farklƒ± olabilir
    const scaleX = cvs.width  / r.width;
    const scaleY = cvs.height / r.height;
    return {
      x: (touch.clientX - r.left) * scaleX,
      y: (touch.clientY - r.top)  * scaleY
    };
  }

  function eraserStart(e){
    e.preventDefault();
    _eraserDrawing = true;
    const cvs = document.getElementById('eraser-canvas');
    const ctx = cvs.getContext('2d');
    _eraserHistory.push(ctx.getImageData(0,0,cvs.width,cvs.height));
    // Limit history to 20 steps
    if(_eraserHistory.length > 21) _eraserHistory.shift();
    const p = getPos(e, cvs);
    const r = parseInt(document.getElementById('eraser-size').value) * (cvs.width / cvs.getBoundingClientRect().width);
    drawCursor(p, r);
    ctx.fillStyle = '#ffffff';
    ctx.beginPath();
    ctx.arc(p.x, p.y, r, 0, Math.PI*2);
    ctx.fill();
  }

  function drawCursor(p, r){
    const cur = document.getElementById('eraser-cursor');
    const cvs = document.getElementById('eraser-canvas');
    const cctx = cur.getContext('2d');
    cur.width  = cvs.width;
    cur.height = cvs.height;
    cctx.clearRect(0,0,cur.width,cur.height);
    // Dƒ±≈ü renkli halka
    cctx.beginPath();
    cctx.arc(p.x, p.y, r, 0, Math.PI*2);
    cctx.strokeStyle = '#6c63ff';
    cctx.lineWidth = 3;
    cctx.stroke();
    // ƒ∞√ß ince beyaz √ßizgi
    cctx.beginPath();
    cctx.arc(p.x, p.y, r-3, 0, Math.PI*2);
    cctx.strokeStyle = 'rgba(255,255,255,0.6)';
    cctx.lineWidth = 1.5;
    cctx.stroke();
    // Merkez nokta
    cctx.beginPath();
    cctx.arc(p.x, p.y, 2, 0, Math.PI*2);
    cctx.fillStyle = '#ff4757';
    cctx.fill();
  }

  function clearCursor(){
    const cur = document.getElementById('eraser-cursor');
    if(cur) cur.getContext('2d').clearRect(0,0,cur.width,cur.height);
  }

  function eraserMove(e){
    e.preventDefault();
    const cvs = document.getElementById('eraser-canvas');
    const ctx = cvs.getContext('2d');
    const p = getPos(e, cvs);
    const scale = cvs.width / cvs.getBoundingClientRect().width;
    const r = parseInt(document.getElementById('eraser-size').value) * scale;
    drawCursor(p, r);
    if(!_eraserDrawing) return;
    ctx.fillStyle = '#ffffff';
    ctx.beginPath();
    ctx.arc(p.x, p.y, r, 0, Math.PI*2);
    ctx.fill();
  }

  function eraserEnd(){ _eraserDrawing = false; clearCursor(); }

  function paintWhite(ctx, cvs, x, y, r){
    ctx.fillStyle = '#ffffff';
    ctx.beginPath();
    ctx.arc(x, y, r, 0, Math.PI*2);
    ctx.fill();
  }

  const cvs = document.getElementById('eraser-canvas');
  cvs.addEventListener('mousedown', eraserStart);
  cvs.addEventListener('mousemove', eraserMove);
  cvs.addEventListener('mouseup', eraserEnd);
  cvs.addEventListener('touchstart', eraserStart, {passive:false});
  cvs.addEventListener('touchmove', eraserMove, {passive:false});
  cvs.addEventListener('touchend', eraserEnd);
})();

function load(t,s){document.getElementById('loading').classList.remove('off');document.getElementById('ltxt').textContent=t;document.getElementById('lsub').textContent=s;}
function upd(t,s){document.getElementById('ltxt').textContent=t;document.getElementById('lsub').textContent=s;}
function hide(){document.getElementById('loading').classList.add('off');}

let _tid;
function toast(msg,type=''){
  const el=document.getElementById('toast');
  el.textContent=msg; el.className='toast on '+(type||'');
  clearTimeout(_tid); _tid=setTimeout(()=>{el.className='toast';},2600);
}

// drag events handled in parsePDF section

document.getElementById('m-dt').value=new Date().toISOString().split('T')[0];
</script>
</body>
</html>